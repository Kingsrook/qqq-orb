<?xml version="1.0" encoding="UTF-8"?>
<settings xmlns="http://maven.apache.org/SETTINGS/1.0.0"
          xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
          xsi:schemaLocation="http://maven.apache.org/SETTINGS/1.0.0 
                              http://maven.apache.org/xsd/settings-1.0.0.xsd">

  <!-- Maven Settings for CircleCI CI/CD Pipeline -->
  <!-- This file provides optimized Maven configuration for automated builds -->
  
  <!-- Local repository location -->
  <localRepository>${user.home}/.m2/repository</localRepository>
  
  <!-- Interactive mode disabled for CI -->
  <interactiveMode>false</interactiveMode>
  
  <!-- Offline mode disabled for CI -->
  <offline>false</offline>
  
  <!-- Plugin groups -->
  <pluginGroups>
    <pluginGroup>org.apache.maven.plugins</pluginGroup>
    <pluginGroup>org.codehaus.mojo</pluginGroup>
  </pluginGroups>
  
  <!-- Proxy configuration (uncomment if needed) -->
  <!--
  <proxies>
    <proxy>
      <id>example-proxy</id>
      <active>true</active>
      <protocol>http</protocol>
      <username>proxyuser</username>
      <password>proxypass</password>
      <host>proxy.host.net</host>
      <port>80</port>
      <nonProxyHosts>local.net|some.host.com</nonProxyHosts>
    </proxy>
  </proxies>
  -->
  
  <!-- Servers for authentication -->
  <servers>
    <!-- Sonatype Central Portal (Maven Central) -->
    <server>
      <id>central</id>
      <username>${env.SONATYPE_USERNAME}</username>
      <password>${env.SONATYPE_PASSWORD}</password>
    </server>
    
    <!-- Sonatype Snapshots Repository -->
    <server>
      <id>sonatype-snapshots</id>
      <username>${env.SONATYPE_USERNAME}</username>
      <password>${env.SONATYPE_PASSWORD}</password>
    </server>
    
    <!-- Sonatype Releases Repository -->
    <server>
      <id>sonatype-releases</id>
      <username>${env.SONATYPE_USERNAME}</username>
      <password>${env.SONATYPE_PASSWORD}</password>
    </server>
  </servers>
  
  <!-- Mirrors for faster dependency resolution -->
  <mirrors>
    <!-- Use Maven Central as primary mirror -->
    <mirror>
      <id>central</id>
      <name>Maven Central</name>
      <url>https://repo1.maven.org/maven2/</url>
      <mirrorOf>*</mirrorOf>
    </mirror>
  </mirrors>
  
  <!-- Profiles for different environments -->
  <profiles>
    <!-- CI Profile with optimized settings -->
    <profile>
      <id>ci</id>
      <activation>
        <activeByDefault>true</activeByDefault>
      </activation>
      <properties>
        <!-- Parallel build threads -->
        <maven.compiler.fork>true</maven.compiler.fork>
        <maven.compiler.maxmem>1024m</maven.compiler.maxmem>
        
        <!-- Skip tests by default (run separately) -->
        <skipTests>false</skipTests>
        
        <!-- Optimize for CI -->
        <maven.test.skip>false</maven.test.skip>
        <maven.javadoc.skip>true</maven.javadoc.skip>
        <maven.source.skip>true</maven.source.skip>
        
        <!-- GPG signing configuration -->
        <gpg.keyname>${env.GPG_KEYNAME}</gpg.keyname>
        <gpg.passphrase>${env.GPG_PASSPHRASE}</gpg.passphrase>
      </properties>
      
      <!-- Repositories -->
      <repositories>
        <repository>
          <id>central</id>
          <name>Maven Central</name>
          <url>https://repo1.maven.org/maven2/</url>
          <releases>
            <enabled>true</enabled>
            <updatePolicy>daily</updatePolicy>
          </releases>
          <snapshots>
            <enabled>false</enabled>
          </snapshots>
        </repository>
        
        <!-- Sonatype Snapshots -->
        <repository>
          <id>sonatype-snapshots</id>
          <name>Sonatype Snapshots</name>
          <url>https://oss.sonatype.org/content/repositories/snapshots</url>
          <releases>
            <enabled>false</enabled>
          </releases>
          <snapshots>
            <enabled>true</enabled>
            <updatePolicy>always</updatePolicy>
          </snapshots>
        </repository>
      </repositories>
      
      <!-- Plugin Repositories -->
      <pluginRepositories>
        <pluginRepository>
          <id>central</id>
          <name>Maven Central</name>
          <url>https://repo1.maven.org/maven2/</url>
          <releases>
            <enabled>true</enabled>
            <updatePolicy>daily</updatePolicy>
          </releases>
          <snapshots>
            <enabled>false</enabled>
          </snapshots>
        </pluginRepository>
      </pluginRepositories>
    </profile>
    
    <!-- Release Profile for Maven Central deployment -->
    <profile>
      <id>release</id>
      <properties>
        <!-- Enable GPG signing -->
        <maven.gpg.plugin.version>3.0.1</maven.gpg.plugin.version>
        <gpg.keyname>${env.GPG_KEYNAME}</gpg.keyname>
        <gpg.passphrase>${env.GPG_PASSPHRASE}</gpg.passphrase>
        
        <!-- Nexus Staging Plugin -->
        <nexus.staging.maven.plugin.version>1.6.13</nexus.staging.maven.plugin.version>
      </properties>
      
      <!-- Distribution Management -->
      <distributionManagement>
        <snapshotRepository>
          <id>sonatype-snapshots</id>
          <name>Sonatype Snapshots</name>
          <url>https://oss.sonatype.org/content/repositories/snapshots</url>
        </snapshotRepository>
        <repository>
          <id>sonatype-releases</id>
          <name>Sonatype Releases</name>
          <url>https://oss.sonatype.org/content/repositories/releases</url>
        </repository>
      </distributionManagement>
    </profile>
  </profiles>
  
  <!-- Active profiles -->
  <activeProfiles>
    <activeProfile>ci</activeProfile>
  </activeProfiles>
  
</settings>
